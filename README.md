# SES業務システム

## プロジェクト概要

SES業務システムは、SES（システムエンジニアリングサービス）事業者向けの統合業務管理システムです。技術者管理、案件管理、マッチング、契約管理、勤怠工数管理、請求支払管理、レポーティングなどの機能を提供し、SES事業の効率化と収益性向上を支援します。

## 主要機能

- **技術者管理**: 技術者の基本情報・スキル・稼働状況の管理
- **案件管理**: 案件情報の登録・管理・検索
- **マッチング**: 技術者と案件のマッチングエンジン
- **契約管理**: 契約の作成・管理・電子署名
- **勤怠工数管理**: 勤怠入力・承認・工数管理
- **請求支払管理**: 請求書発行・入金管理・支払処理
- **レポーティング**: 各種レポート・ダッシュボード

## 技術スタック

- **バックエンド**: Java Spring Boot
- **フロントエンド**: Thymeleaf
- **データベース**: PostgreSQL
- **コンテナ化**: Docker
- **CI/CD**: GitHub Actions

## プロジェクト構成

本リポジトリは以下の構成となっています：

```
/
├── docs/                # ドキュメント
│   ├── 00_ガイドライン/  # 開発ガイドライン
│   ├── 01_要件定義/      # 要件定義ドキュメント
│   ├── 02_基本設計/      # 基本設計ドキュメント
│   └── 03_詳細設計/      # 詳細設計ドキュメント
```

## 開発環境のセットアップ

### 前提条件

- Java 21
- Docker と Docker Compose
- PostgreSQL 17（Dockerで実行可能）

### 開発環境の起動

開発環境のDockerコンテナを起動するには以下のコマンドを実行します：

```bash
docker compose up -d
```

これにより以下のサービスが起動します：
- PostgreSQL: ポート 5432
- Redis: ポート 6379
- MinIO: ポート 9000, 9001 (コンソール)

### テスト環境のセットアップ

テスト専用の独立したコンテナを使用することも可能です：

```bash
# テスト用のDockerコンテナを起動
docker compose -f docker-compose.test.yml up -d

# データベースマイグレーションを実行
./gradlew flywayMigrateTest

# テスト実行（Docker環境を使用）
./gradlew test -Pspring.profiles.active=test-docker

# または専用スクリプトを使用（起動・マイグレーション・テスト実行・停止を自動化）
./run-tests-with-docker.sh
```

テスト環境では以下のサービスが起動します：
- PostgreSQL: ポート 5433（開発環境と競合しないよう変更）
- MinIO: ポート 9010, 9011（コンソール）

テスト環境はアプリケーションの設定ファイル `application-test-docker.yml` を使用します。開発環境とは別の独立したデータベースとファイルストレージを使用するため、開発作業とテストを安全に並行して行うことができます。

## ドキュメント

システムの詳細については、[ドキュメントポータル](https://fcircle-biz.github.io/ses_mgr/index.html)を参照してください。

### ドキュメントの閲覧方法

1. GitHub Pages上の[ドキュメントポータル](https://fcircle-biz.github.io/ses_mgr/index.html)にアクセス
2. または、リポジトリをクローンして`docs/index.html`をブラウザで開く

## 開発フロー

本プロジェクトは以下の開発フローに従います：

1. 要件定義フェーズ
2. 基本設計フェーズ
3. 詳細設計フェーズ
4. 実装フェーズ
5. テストフェーズ
6. デプロイ・運用フェーズ

各フェーズでのドキュメント作成ガイドラインは、`docs/00_ガイドライン/`ディレクトリを参照してください。