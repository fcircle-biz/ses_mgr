<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SES業務システム - 電子署名管理</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Bootstrap Icons -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css" rel="stylesheet">
    <style>
        body {
            background-color: #f8f9fa;
        }
        .navbar-brand {
            font-weight: 600;
        }
        .page-header {
            margin-bottom: 20px;
        }
        .card {
            box-shadow: 0 0.125rem 0.25rem rgba(0, 0, 0, 0.075);
            margin-bottom: 20px;
        }
        .card-header {
            background-color: #f8f9fa;
            border-bottom: 1px solid rgba(0, 0, 0, 0.125);
        }
        .table th {
            font-weight: 600;
            background-color: #f8f9fa;
        }
        /* ステータスバッジのスタイル */
        .badge-draft {
            background-color: #e9ecef;
            color: #495057;
        }
        .badge-proposal {
            background-color: #fff3cd;
            color: #856404;
        }
        .badge-active {
            background-color: #d1e7dd;
            color: #0f5132;
        }
        .badge-contracted {
            background-color: #cff4fc;
            color: #055160;
        }
        .badge-completed {
            background-color: #d3d3d3;
            color: #444;
        }
        .badge-cancelled {
            background-color: #f8d7da;
            color: #842029;
        }
        .avatar {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            background-color: #6c757d;
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
        }
        .action-button {
            width: 32px;
            height: 32px;
            padding: 0;
            display: inline-flex;
            align-items: center;
            justify-content: center;
        }
        /* カスタムスタイル */
        .contract-header {
            background-color: #f8f9fa;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 20px;
        }
        .signature-status {
            width: 100%;
            border-collapse: separate;
            border-spacing: 0;
            border-radius: 8px;
            overflow: hidden;
        }
        .signature-status th {
            background-color: #f0f0f0;
            padding: 12px 15px;
            font-weight: 600;
            color: #495057;
            border: none;
        }
        .signature-status td {
            padding: 12px 15px;
            border-top: 1px solid #dee2e6;
            border: none;
            vertical-align: middle;
        }
        .signature-status tr:nth-child(even) {
            background-color: #f8f9fa;
        }
        .signature-status tr:hover {
            background-color: #f1f8ff;
        }
        .status-badge {
            font-size: 0.85rem;
            font-weight: 500;
            padding: 0.25rem 0.75rem;
            border-radius: 50rem;
            display: inline-block;
        }
        .status-pending {
            background-color: #fff3cd;
            color: #856404;
        }
        .status-completed {
            background-color: #d1e7dd;
            color: #0f5132;
        }
        .status-expired {
            background-color: #f8d7da;
            color: #842029;
        }
        .status-cancelled {
            background-color: #e9ecef;
            color: #495057;
        }
        .timeline {
            position: relative;
            padding-left: 40px;
            margin-bottom: 50px;
        }
        .timeline-item {
            position: relative;
            padding-bottom: 1.5rem;
        }
        .timeline-item:last-child {
            padding-bottom: 0;
        }
        .timeline-item:before {
            content: '';
            position: absolute;
            left: -29px;
            top: 0;
            width: 18px;
            height: 18px;
            border-radius: 50%;
            background-color: #fff;
            border: 3px solid #0d6efd;
            z-index: 1;
            box-shadow: 0 0 0 3px rgba(13, 110, 253, 0.2);
        }
        .timeline-item.completed:before {
            background-color: #28a745;
            border-color: #28a745;
            box-shadow: 0 0 0 3px rgba(40, 167, 69, 0.2);
        }
        .timeline-item.pending:before {
            background-color: #ffc107;
            border-color: #ffc107;
            box-shadow: 0 0 0 3px rgba(255, 193, 7, 0.2);
        }
        .timeline-item.cancelled:before {
            background-color: #dc3545;
            border-color: #dc3545;
            box-shadow: 0 0 0 3px rgba(220, 53, 69, 0.2);
        }
        .timeline-item:after {
            content: '';
            position: absolute;
            left: -21px;
            top: 18px;
            width: 2px;
            height: calc(100% - 18px);
            background-color: #dee2e6;
        }
        .timeline-item:last-child:after {
            display: none;
        }
        .timeline-date {
            position: absolute;
            left: -140px;
            top: 0;
            width: 100px;
            text-align: right;
            font-size: 0.85rem;
            color: #6c757d;
        }
        .timeline-content {
            background-color: #fff;
            border-radius: 8px;
            padding: 15px;
            border: 1px solid #e9ecef;
            margin-bottom: 5px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.05);
        }
        .timeline-title {
            font-weight: 600;
            color: #212529;
            margin-bottom: 5px;
        }
        .timeline-text {
            margin-bottom: 0;
            color: #495057;
        }
        .timeline-meta {
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 0.75rem;
            color: #6c757d;
            margin-top: 5px;
        }
        .signature-box {
            border: 1px solid #dee2e6;
            border-radius: 8px;
            overflow: hidden;
            margin-bottom: 20px;
        }
        .signature-header {
            background-color: #f8f9fa;
            padding: 15px;
            border-bottom: 1px solid #dee2e6;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .signature-title {
            font-weight: 600;
            margin-bottom: 0;
        }
        .signature-content {
            padding: 15px;
        }
        .signature-info {
            display: flex;
            justify-content: space-between;
            margin-bottom: 15px;
        }
        .info-group {
            margin-bottom: 10px;
        }
        .info-label {
            color: #6c757d;
            font-size: 0.85rem;
            margin-bottom: 5px;
        }
        .info-value {
            font-weight: 500;
            color: #212529;
        }
        .info-detail {
            font-size: 0.85rem;
            color: #6c757d;
        }
    </style>
</head>
<body>
    <!-- ナビゲーションバー -->
    <nav class="navbar navbar-expand-lg navbar-light bg-white border-bottom sticky-top">
        <div class="container-fluid">
            <a class="navbar-brand text-primary" href="#">SES業務システム</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                    <li class="nav-item">
                        <a class="nav-link" href="#">ダッシュボード</a>
                    </li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-bs-toggle="dropdown">
                            案件管理
                        </a>
                        <ul class="dropdown-menu">
                            <li><a class="dropdown-item" href="#">案件一覧</a></li>
                            <li><a class="dropdown-item" href="#">新規案件登録</a></li>
                        </ul>
                    </li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown">
                            技術者管理
                        </a>
                        <ul class="dropdown-menu">
                            <li><a class="dropdown-item" href="#">技術者一覧</a></li>
                            <li><a class="dropdown-item" href="#">スキル管理</a></li>
                        </ul>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#">マッチング</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link active" href="#">契約管理</a>
                    </li>
                </ul>
                <div class="d-flex align-items-center">
                    <div class="dropdown">
                        <a href="#" class="d-flex align-items-center text-decoration-none dropdown-toggle" id="userDropdown" data-bs-toggle="dropdown">
                            <div class="avatar me-2">SI</div>
                            <span>佐藤 一郎</span>
                        </a>
                        <ul class="dropdown-menu dropdown-menu-end">
                            <li><a class="dropdown-item" href="#">プロフィール</a></li>
                            <li><a class="dropdown-item" href="#">設定</a></li>
                            <li><hr class="dropdown-divider"></li>
                            <li><a class="dropdown-item" href="#">ログアウト</a></li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </nav>

    <!-- パンくずリスト -->
    <div class="container-fluid py-2 bg-light border-bottom">
        <nav aria-label="breadcrumb">
            <ol class="breadcrumb mb-0">
                <li class="breadcrumb-item"><a href="#">ホーム</a></li>
                <li class="breadcrumb-item"><a href="#">契約管理</a></li>
                <li class="breadcrumb-item"><a href="#">契約詳細</a></li>
                <li class="breadcrumb-item active" aria-current="page">電子署名管理</li>
            </ol>
        </nav>
    </div>

    <!-- メインコンテンツ -->
    <div class="container-fluid my-4">
        <!-- 契約ヘッダー部分 -->
        <div class="contract-header mb-4">
            <div class="row">
                <div class="col-md-8">
                    <h2 class="h4 mb-2">株式会社テクノソリューション Javaエンジニア派遣契約</h2>
                    <p class="text-muted mb-0">契約ID: CNT-2025-0001</p>
                </div>
                <div class="col-md-4 text-md-end">
                    <span class="badge bg-success mb-2 d-inline-block">締結済み</span>
                    <p class="text-muted mb-0">署名完了日: 2025/03/29</p>
                </div>
            </div>
        </div>

        <!-- ページヘッダー部分 -->
        <div class="d-flex justify-content-between align-items-center mb-4">
            <h3 class="h5 mb-0">電子署名管理</h3>
            <div>
                <a href="#" class="btn btn-outline-secondary me-2">
                    <i class="bi bi-arrow-left me-1"></i>契約詳細に戻る
                </a>
                <button type="button" class="btn btn-primary" id="newSignatureRequestBtn">
                    <i class="bi bi-send me-1"></i>新規署名依頼
                </button>
            </div>
        </div>

        <!-- 署名ステータス -->
        <div class="card mb-4">
            <div class="card-header">
                <h5 class="card-title mb-0">署名状況</h5>
            </div>
            <div class="card-body p-0">
                <table class="signature-status">
                    <thead>
                        <tr>
                            <th>署名者</th>
                            <th>メールアドレス</th>
                            <th>役割</th>
                            <th>ステータス</th>
                            <th>送信日時</th>
                            <th>署名日時</th>
                            <th>操作</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>田中 太郎</td>
                            <td>tanaka.taro@techno-solutions.co.jp</td>
                            <td>契約締結者（甲）</td>
                            <td><span class="status-badge status-completed">署名完了</span></td>
                            <td>2025/03/27 11:05</td>
                            <td>2025/03/28 14:22</td>
                            <td>
                                <button type="button" class="btn btn-sm btn-outline-secondary" disabled>
                                    <i class="bi bi-arrow-repeat me-1"></i>再依頼
                                </button>
                            </td>
                        </tr>
                        <tr>
                            <td>佐藤 一郎</td>
                            <td>sato.ichiro@ses-company.co.jp</td>
                            <td>契約締結者（乙）</td>
                            <td><span class="status-badge status-completed">署名完了</span></td>
                            <td>2025/03/27 11:05</td>
                            <td>2025/03/29 09:15</td>
                            <td>
                                <button type="button" class="btn btn-sm btn-outline-secondary" disabled>
                                    <i class="bi bi-arrow-repeat me-1"></i>再依頼
                                </button>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div class="card-footer text-end">
                <button type="button" class="btn btn-primary" id="downloadSignedDocBtn">
                    <i class="bi bi-file-earmark-pdf me-1"></i>署名済み文書ダウンロード
                </button>
            </div>
        </div>

        <!-- 証明情報 -->
        <div class="row">
            <div class="col-md-6">
                <div class="signature-box">
                    <div class="signature-header">
                        <h5 class="signature-title">甲側証明情報</h5>
                        <span class="status-badge status-completed">署名完了</span>
                    </div>
                    <div class="signature-content">
                        <div class="signature-info">
                            <div>
                                <div class="info-group">
                                    <div class="info-label">署名者</div>
                                    <div class="info-value">田中 太郎</div>
                                </div>
                                <div class="info-group">
                                    <div class="info-label">会社名</div>
                                    <div class="info-value">株式会社テクノソリューション</div>
                                </div>
                                <div class="info-group">
                                    <div class="info-label">役職</div>
                                    <div class="info-value">営業部長</div>
                                </div>
                            </div>
                            <div>
                                <div class="info-group">
                                    <div class="info-label">メールアドレス</div>
                                    <div class="info-value">tanaka.taro@techno-solutions.co.jp</div>
                                </div>
                                <div class="info-group">
                                    <div class="info-label">署名方法</div>
                                    <div class="info-value">DocuSign電子署名</div>
                                </div>
                                <div class="info-group">
                                    <div class="info-label">署名日時</div>
                                    <div class="info-value">2025/03/28 14:22:45</div>
                                </div>
                            </div>
                        </div>
                        <hr>
                        <div class="d-flex justify-content-between align-items-center">
                            <div class="info-detail">
                                <strong>認証方法:</strong> メール認証 + ワンタイムパスワード
                            </div>
                            <div class="info-detail">
                                <strong>IPアドレス:</strong> 203.0.113.45
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-md-6">
                <div class="signature-box">
                    <div class="signature-header">
                        <h5 class="signature-title">乙側証明情報</h5>
                        <span class="status-badge status-completed">署名完了</span>
                    </div>
                    <div class="signature-content">
                        <div class="signature-info">
                            <div>
                                <div class="info-group">
                                    <div class="info-label">署名者</div>
                                    <div class="info-value">佐藤 一郎</div>
                                </div>
                                <div class="info-group">
                                    <div class="info-label">会社名</div>
                                    <div class="info-value">エスイーエス株式会社</div>
                                </div>
                                <div class="info-group">
                                    <div class="info-label">役職</div>
                                    <div class="info-value">営業マネージャー</div>
                                </div>
                            </div>
                            <div>
                                <div class="info-group">
                                    <div class="info-label">メールアドレス</div>
                                    <div class="info-value">sato.ichiro@ses-company.co.jp</div>
                                </div>
                                <div class="info-group">
                                    <div class="info-label">署名方法</div>
                                    <div class="info-value">DocuSign電子署名</div>
                                </div>
                                <div class="info-group">
                                    <div class="info-label">署名日時</div>
                                    <div class="info-value">2025/03/29 09:15:32</div>
                                </div>
                            </div>
                        </div>
                        <hr>
                        <div class="d-flex justify-content-between align-items-center">
                            <div class="info-detail">
                                <strong>認証方法:</strong> メール認証 + ワンタイムパスワード
                            </div>
                            <div class="info-detail">
                                <strong>IPアドレス:</strong> 198.51.100.27
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- 署名履歴 -->
        <div class="card mt-4">
            <div class="card-header d-flex justify-content-between align-items-center">
                <h5 class="card-title mb-0">署名履歴</h5>
                <button type="button" class="btn btn-sm btn-outline-secondary" id="showSignatureLogBtn">
                    <i class="bi bi-file-text me-1"></i>詳細ログ表示
                </button>
            </div>
            <div class="card-body">
                <div class="timeline">
                    <div class="timeline-item completed">
                        <div class="timeline-date">2025/03/29 09:15</div>
                        <div class="timeline-content">
                            <div class="timeline-title">署名プロセス完了</div>
                            <p class="timeline-text">すべての関係者による署名が完了しました。契約が有効になりました。</p>
                            <div class="timeline-meta">
                                <span>ステータス: 締結済み</span>
                                <span>処理ID: SIG-2025-0123-COMP</span>
                            </div>
                        </div>
                    </div>
                    <div class="timeline-item completed">
                        <div class="timeline-date">2025/03/29 09:15</div>
                        <div class="timeline-content">
                            <div class="timeline-title">佐藤 一郎が署名しました</div>
                            <p class="timeline-text">エスイーエス株式会社の代表として契約に署名しました。</p>
                            <div class="timeline-meta">
                                <span>メールアドレス: sato.ichiro@ses-company.co.jp</span>
                                <span>IPアドレス: 198.51.100.27</span>
                            </div>
                        </div>
                    </div>
                    <div class="timeline-item completed">
                        <div class="timeline-date">2025/03/28 14:22</div>
                        <div class="timeline-content">
                            <div class="timeline-title">田中 太郎が署名しました</div>
                            <p class="timeline-text">株式会社テクノソリューションの代表として契約に署名しました。</p>
                            <div class="timeline-meta">
                                <span>メールアドレス: tanaka.taro@techno-solutions.co.jp</span>
                                <span>IPアドレス: 203.0.113.45</span>
                            </div>
                        </div>
                    </div>
                    <div class="timeline-item pending">
                        <div class="timeline-date">2025/03/27 11:05</div>
                        <div class="timeline-content">
                            <div class="timeline-title">電子署名依頼が送信されました</div>
                            <p class="timeline-text">契約締結のための電子署名依頼が送信されました。</p>
                            <div class="timeline-meta">
                                <span>送信者: 佐藤 一郎</span>
                                <span>処理ID: SIG-2025-0123-REQ</span>
                            </div>
                        </div>
                    </div>
                    <div class="timeline-item completed">
                        <div class="timeline-date">2025/03/27 11:00</div>
                        <div class="timeline-content">
                            <div class="timeline-title">契約書が最終承認されました</div>
                            <p class="timeline-text">鈴木 常務が契約内容を承認しました。署名プロセスを開始します。</p>
                            <div class="timeline-meta">
                                <span>ステータス: 承認済み</span>
                                <span>処理ID: SIG-2025-0123-APPR</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- 署名依頼モーダル -->
    <div class="modal fade" id="signatureRequestModal" tabindex="-1" aria-labelledby="signatureRequestModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="signatureRequestModalLabel">電子署名依頼</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form id="signatureRequestForm">
                        <div class="mb-3">
                            <label for="contractSelect" class="form-label">契約書</label>
                            <select class="form-select" id="contractSelect">
                                <option value="CNT-2025-0001">株式会社テクノソリューション Javaエンジニア派遣契約</option>
                            </select>
                        </div>
                        <hr>
                        <h6 class="mb-3">署名者情報</h6>
                        <div class="card mb-3">
                            <div class="card-header bg-light d-flex justify-content-between align-items-center">
                                <h6 class="mb-0">甲側（顧客）署名者</h6>
                                <button type="button" class="btn btn-sm btn-outline-secondary">
                                    <i class="bi bi-person-plus"></i>
                                </button>
                            </div>
                            <div class="card-body">
                                <div class="row">
                                    <div class="col-md-6">
                                        <div class="mb-3">
                                            <label for="clientName" class="form-label">氏名</label>
                                            <input type="text" class="form-control" id="clientName" placeholder="例: 田中 太郎">
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="mb-3">
                                            <label for="clientEmail" class="form-label">メールアドレス</label>
                                            <input type="email" class="form-control" id="clientEmail" placeholder="例: tanaka.taro@example.com">
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-6">
                                        <div class="mb-3">
                                            <label for="clientCompany" class="form-label">会社名</label>
                                            <input type="text" class="form-control" id="clientCompany" placeholder="例: 株式会社テクノソリューション">
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="mb-3">
                                            <label for="clientPosition" class="form-label">役職</label>
                                            <input type="text" class="form-control" id="clientPosition" placeholder="例: 営業部長">
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="card mb-3">
                            <div class="card-header bg-light d-flex justify-content-between align-items-center">
                                <h6 class="mb-0">乙側（自社）署名者</h6>
                                <button type="button" class="btn btn-sm btn-outline-secondary">
                                    <i class="bi bi-person-plus"></i>
                                </button>
                            </div>
                            <div class="card-body">
                                <div class="row">
                                    <div class="col-md-6">
                                        <div class="mb-3">
                                            <label for="ourName" class="form-label">氏名</label>
                                            <input type="text" class="form-control" id="ourName" placeholder="例: 佐藤 一郎">
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="mb-3">
                                            <label for="ourEmail" class="form-label">メールアドレス</label>
                                            <input type="email" class="form-control" id="ourEmail" placeholder="例: sato.ichiro@example.com">
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-6">
                                        <div class="mb-3">
                                            <label for="ourCompany" class="form-label">会社名</label>
                                            <input type="text" class="form-control" id="ourCompany" placeholder="例: エスイーエス株式会社">
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="mb-3">
                                            <label for="ourPosition" class="form-label">役職</label>
                                            <input type="text" class="form-control" id="ourPosition" placeholder="例: 営業マネージャー">
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <hr>
                        <div class="mb-3">
                            <label for="signatureMessage" class="form-label">署名依頼メッセージ</label>
                            <textarea class="form-control" id="signatureMessage" rows="3" placeholder="署名依頼とともに送信するメッセージを入力してください"></textarea>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">オプション設定</label>
                            <div class="form-check mb-2">
                                <input class="form-check-input" type="checkbox" id="remindersOption" checked>
                                <label class="form-check-label" for="remindersOption">
                                    署名がない場合、3日ごとにリマインダーを送信する
                                </label>
                            </div>
                            <div class="form-check mb-2">
                                <input class="form-check-input" type="checkbox" id="expirationOption">
                                <label class="form-check-label" for="expirationOption">
                                    署名期限を設定する
                                </label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" id="notificationOption" checked>
                                <label class="form-check-label" for="notificationOption">
                                    署名が完了したら通知を受け取る
                                </label>
                            </div>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-outline-secondary" data-bs-dismiss="modal">キャンセル</button>
                    <button type="button" class="btn btn-primary" id="sendSignatureRequestBtn">署名依頼を送信</button>
                </div>
            </div>
        </div>
    </div>

    <!-- 署名ログモーダル -->
    <div class="modal fade" id="signatureLogModal" tabindex="-1" aria-labelledby="signatureLogModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="signatureLogModalLabel">電子署名詳細ログ</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="mb-3">
                        <label class="form-label">契約情報</label>
                        <div class="card card-body bg-light mb-3">
                            <div class="row">
                                <div class="col-md-6">
                                    <p class="mb-1"><strong>契約ID:</strong> CNT-2025-0001</p>
                                    <p class="mb-1"><strong>契約名:</strong> 株式会社テクノソリューション Javaエンジニア派遣契約</p>
                                    <p class="mb-0"><strong>契約種別:</strong> 派遣</p>
                                </div>
                                <div class="col-md-6">
                                    <p class="mb-1"><strong>電子署名プロセスID:</strong> SIG-2025-0123</p>
                                    <p class="mb-1"><strong>署名開始日:</strong> 2025/03/27 11:05:18</p>
                                    <p class="mb-0"><strong>署名完了日:</strong> 2025/03/29 09:15:32</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="mb-3">
                        <label class="form-label">署名詳細ログ</label>
                        <div class="table-responsive">
                            <table class="table table-sm table-hover">
                                <thead>
                                    <tr>
                                        <th>日時</th>
                                        <th>イベント</th>
                                        <th>署名者</th>
                                        <th>詳細情報</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>2025/03/29 09:15:32</td>
                                        <td>署名プロセス完了</td>
                                        <td>-</td>
                                        <td>すべての署名が完了し、契約が有効になりました</td>
                                    </tr>
                                    <tr>
                                        <td>2025/03/29 09:15:32</td>
                                        <td>署名完了</td>
                                        <td>佐藤 一郎</td>
                                        <td>IP: 198.51.100.27, ブラウザ: Chrome 103.0.5060.114 (Windows)</td>
                                    </tr>
                                    <tr>
                                        <td>2025/03/29 09:14:45</td>
                                        <td>署名ページアクセス</td>
                                        <td>佐藤 一郎</td>
                                        <td>IP: 198.51.100.27, ブラウザ: Chrome 103.0.5060.114 (Windows)</td>
                                    </tr>
                                    <tr>
                                        <td>2025/03/29 09:14:12</td>
                                        <td>認証成功</td>
                                        <td>佐藤 一郎</td>
                                        <td>認証方法: メール + ワンタイムパスワード</td>
                                    </tr>
                                    <tr>
                                        <td>2025/03/29 09:13:45</td>
                                        <td>認証開始</td>
                                        <td>佐藤 一郎</td>
                                        <td>IP: 198.51.100.27, ブラウザ: Chrome 103.0.5060.114 (Windows)</td>
                                    </tr>
                                    <tr>
                                        <td>2025/03/29 09:13:05</td>
                                        <td>メールリンククリック</td>
                                        <td>佐藤 一郎</td>
                                        <td>リンク: sig_req_2025_0123_b</td>
                                    </tr>
                                    <tr>
                                        <td>2025/03/28 14:22:45</td>
                                        <td>署名完了</td>
                                        <td>田中 太郎</td>
                                        <td>IP: 203.0.113.45, ブラウザ: Safari 15.4 (MacOS)</td>
                                    </tr>
                                    <tr>
                                        <td>2025/03/28 14:21:52</td>
                                        <td>署名ページアクセス</td>
                                        <td>田中 太郎</td>
                                        <td>IP: 203.0.113.45, ブラウザ: Safari 15.4 (MacOS)</td>
                                    </tr>
                                    <tr>
                                        <td>2025/03/28 14:21:12</td>
                                        <td>認証成功</td>
                                        <td>田中 太郎</td>
                                        <td>認証方法: メール + ワンタイムパスワード</td>
                                    </tr>
                                    <tr>
                                        <td>2025/03/28 14:20:45</td>
                                        <td>認証開始</td>
                                        <td>田中 太郎</td>
                                        <td>IP: 203.0.113.45, ブラウザ: Safari 15.4 (MacOS)</td>
                                    </tr>
                                    <tr>
                                        <td>2025/03/28 14:20:12</td>
                                        <td>メールリンククリック</td>
                                        <td>田中 太郎</td>
                                        <td>リンク: sig_req_2025_0123_a</td>
                                    </tr>
                                    <tr>
                                        <td>2025/03/28 09:01:18</td>
                                        <td>リマインダー送信</td>
                                        <td>田中 太郎</td>
                                        <td>自動リマインダー (1回目)</td>
                                    </tr>
                                    <tr>
                                        <td>2025/03/27 11:05:18</td>
                                        <td>署名依頼送信</td>
                                        <td>田中 太郎, 佐藤 一郎</td>
                                        <td>メール送信完了</td>
                                    </tr>
                                    <tr>
                                        <td>2025/03/27 11:05:03</td>
                                        <td>署名依頼作成</td>
                                        <td>佐藤 一郎</td>
                                        <td>契約書バージョン: v1.0, DocuSign電子署名使用</td>
                                    </tr>
                                    <tr>
                                        <td>2025/03/27 11:00:15</td>
                                        <td>契約承認</td>
                                        <td>鈴木 常務</td>
                                        <td>内部承認完了</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-outline-secondary me-2" id="exportLogBtn">
                        <i class="bi bi-download me-1"></i>ログエクスポート
                    </button>
                    <button type="button" class="btn btn-primary" data-bs-dismiss="modal">閉じる</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Bootstrap JS と依存関係のある JavaScript ライブラリ -->
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.min.js"></script>
    
    <!-- カスタムJavaScript -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // 新規署名依頼ボタン
            const newSignatureRequestBtn = document.getElementById('newSignatureRequestBtn');
            const signatureRequestModal = new bootstrap.Modal(document.getElementById('signatureRequestModal'));
            
            newSignatureRequestBtn.addEventListener('click', function() {
                signatureRequestModal.show();
            });
            
            // 署名依頼送信ボタン
            const sendSignatureRequestBtn = document.getElementById('sendSignatureRequestBtn');
            
            sendSignatureRequestBtn.addEventListener('click', function() {
                // 入力チェック（実際のアプリケーションではより厳密なバリデーションを実装）
                const clientName = document.getElementById('clientName').value;
                const clientEmail = document.getElementById('clientEmail').value;
                
                if (!clientName || !clientEmail) {
                    alert('署名者の氏名とメールアドレスを入力してください');
                    return;
                }
                
                // 成功メッセージ表示
                alert('署名依頼が送信されました');
                signatureRequestModal.hide();
            });
            
            // 署名済み文書ダウンロードボタン
            const downloadSignedDocBtn = document.getElementById('downloadSignedDocBtn');
            
            downloadSignedDocBtn.addEventListener('click', function() {
                alert('署名済みの契約書がダウンロードされます');
                // 実際のアプリケーションではダウンロード処理を実装
            });
            
            // 詳細ログ表示ボタン
            const showSignatureLogBtn = document.getElementById('showSignatureLogBtn');
            const signatureLogModal = new bootstrap.Modal(document.getElementById('signatureLogModal'));
            
            showSignatureLogBtn.addEventListener('click', function() {
                signatureLogModal.show();
            });
            
            // ログエクスポートボタン
            const exportLogBtn = document.getElementById('exportLogBtn');
            
            exportLogBtn.addEventListener('click', function() {
                alert('署名ログがCSV形式でエクスポートされます');
                // 実際のアプリケーションではエクスポート処理を実装
            });
            
            // 再依頼ボタン
            const resendButtons = document.querySelectorAll('button[title="再依頼"]');
            
            resendButtons.forEach(button => {
                button.addEventListener('click', function() {
                    const row = this.closest('tr');
                    const name = row.cells[0].textContent;
                    const email = row.cells[1].textContent;
                    
                    if (confirm(`${name} (${email}) に署名依頼を再送信しますか？`)) {
                        alert('署名依頼が再送信されました');
                    }
                });
            });
        });
    </script>
</body>
</html>