<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SES業務システム 稼働状況管理画面</title>
    <!-- モックアップビューワー用のCSS -->
    <link rel="stylesheet" href="../../css/mockup-viewer.css">
    <style>
        body {
            font-family: 'Helvetica Neue', Arial, 'Hiragino Kaku Gothic ProN', 'Hiragino Sans', Meiryo, sans-serif;
            line-height: 1.6;
            color: #333;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        h1, h2, h3, h4, h5, h6 {
            color: #2c3e50;
            margin-top: 1.5em;
            margin-bottom: 0.5em;
        }
        h1 {
            font-size: 28px;
            text-align: center;
            margin-top: 1em;
            border-bottom: 2px solid #3498db;
            padding-bottom: 10px;
        }
        h2 {
            font-size: 24px;
            border-left: 5px solid #3498db;
            padding-left: 10px;
            background-color: #f8f9fa;
            padding: 8px 12px;
        }
        h3 {
            font-size: 20px;
            border-bottom: 1px solid #ddd;
            padding-bottom: 5px;
        }
        h4 {
            font-size: 18px;
            margin-top: 20px;
        }
        table {
            border-collapse: collapse;
            width: 100%;
            margin-bottom: 20px;
        }
        th, td {
            border: 1px solid #ddd;
            padding: 8px 12px;
            text-align: left;
        }
        th {
            background-color: #f2f2f2;
            font-weight: bold;
        }
        tr:nth-child(even) {
            background-color: #f8f9fa;
        }
        .wireframe {
            border: 1px solid #ddd;
            padding: 20px;
            margin: 20px 0;
            background-color: #f9f9f9;
            text-align: center;
        }
        .wireframe img {
            max-width: 100%;
            height: auto;
        }
        .wireframe-placeholder {
            width: 100%;
            height: 400px;
            display: flex;
            justify-content: center;
            align-items: center;
            background-color: #f2f2f2;
            border: 2px dashed #ccc;
            font-style: italic;
            color: #666;
        }
        .footer {
            margin-top: 50px;
            padding-top: 20px;
            border-top: 1px solid #eee;
            text-align: center;
            color: #777;
            font-size: 14px;
        }
        .note {
            background-color: #fffde7;
            border-left: 4px solid #ffd600;
            padding: 12px;
            margin: 15px 0;
        }
        .breadcrumb {
            display: flex;
            flex-wrap: wrap;
            list-style: none;
            margin: 0;
            padding: 0;
            background-color: #f8f9fa;
            border-radius: 4px;
        }
        .breadcrumb li {
            display: flex;
            align-items: center;
        }
        .breadcrumb li a {
            color: #007bff;
            text-decoration: none;
            padding: 8px 12px;
        }
        .breadcrumb li:not(:first-child)::before {
            content: "›";
            padding: 0 8px;
            color: #6c757d;
        }
        .breadcrumb li.active {
            padding: 8px 12px;
            color: #6c757d;
        }
        .tabs {
            display: flex;
            margin: 20px 0 0;
            padding: 0;
            list-style: none;
            border-bottom: 1px solid #ddd;
        }
        .tabs li {
            margin-right: 5px;
        }
        .tabs a {
            display: block;
            padding: 8px 15px;
            text-decoration: none;
            background-color: #f8f9fa;
            color: #495057;
            border: 1px solid #ddd;
            border-bottom: none;
            border-radius: 4px 4px 0 0;
        }
        .tabs a.active {
            background-color: #fff;
            border-bottom: 1px solid #fff;
            margin-bottom: -1px;
            font-weight: bold;
            color: #3498db;
        }
        .tab-content {
            padding: 20px;
            border: 1px solid #ddd;
            border-top: none;
            background-color: #fff;
        }
        .tab-pane {
            display: none;
        }
        .tab-pane.active {
            display: block;
        }
    </style>
</head>
<body>
    <nav>
        <ul class="breadcrumb">
            <li><a href="../../技術者管理画面設計.html">技術者管理画面設計</a></li>
            <li class="active">稼働状況管理画面</li>
        </ul>
    </nav>

    <h1>ENG-005: 稼働状況管理画面</h1>
    
    <h2>画面概要</h2>
    <table>
        <tr>
            <th>項目</th>
            <th>内容</th>
        </tr>
        <tr>
            <td>画面ID</td>
            <td>ENG-005</td>
        </tr>
        <tr>
            <td>画面名</td>
            <td>稼働状況管理</td>
        </tr>
        <tr>
            <td>概要</td>
            <td>技術者の稼働状況をカレンダー形式で管理する画面</td>
        </tr>
        <tr>
            <td>対象ユーザー</td>
            <td>人事担当者、営業担当者</td>
        </tr>
        <tr>
            <td>前画面</td>
            <td>ENG-001: 技術者一覧</td>
        </tr>
        <tr>
            <td>次画面</td>
            <td>ENG-001: 技術者一覧</td>
        </tr>
    </table>

    <h2>画面レイアウト</h2>
    
    <!-- モックアップビューワーのコンテナ -->
    <div id="work-status-mockup" class="mockup-viewer-container">
        <!-- モックアップビューワーがここに表示されます -->
    </div>

    <h2>画面構成要素</h2>
    <h3>1. ヘッダー・メニュー部分</h3>
    <table>
        <tr>
            <th>項目ID</th>
            <th>項目名</th>
            <th>種類</th>
            <th>説明</th>
        </tr>
        <tr>
            <td>ENG005_001</td>
            <td>ナビゲーションバー</td>
            <td>メニュー</td>
            <td>システム内の主要機能へのリンクを提供</td>
        </tr>
        <tr>
            <td>ENG005_002</td>
            <td>パンくずリスト</td>
            <td>ナビゲーション</td>
            <td>現在の画面の位置を示し、階層間の移動を可能にする</td>
        </tr>
        <tr>
            <td>ENG005_003</td>
            <td>ユーザードロップダウン</td>
            <td>ドロップダウンメニュー</td>
            <td>ログインユーザー情報の表示とユーザー関連機能へのアクセス</td>
        </tr>
    </table>

    <h3>2. ページヘッダー部分</h3>
    <table>
        <tr>
            <th>項目ID</th>
            <th>項目名</th>
            <th>種類</th>
            <th>説明</th>
        </tr>
        <tr>
            <td>ENG005_004</td>
            <td>画面タイトル</td>
            <td>テキスト</td>
            <td>「稼働状況管理」の画面タイトルを表示</td>
        </tr>
        <tr>
            <td>ENG005_005</td>
            <td>技術者一覧に戻るボタン</td>
            <td>ボタン</td>
            <td>技術者一覧画面に遷移する</td>
        </tr>
        <tr>
            <td>ENG005_006</td>
            <td>稼働予測レポートボタン</td>
            <td>ボタン</td>
            <td>選択期間の稼働予測レポートを表示する</td>
        </tr>
        <tr>
            <td>ENG005_007</td>
            <td>稼働状況登録ボタン</td>
            <td>ボタン</td>
            <td>新規稼働状況登録モーダルを表示する</td>
        </tr>
    </table>

    <h3>3. フィルター・検索部分</h3>
    <table>
        <tr>
            <th>項目ID</th>
            <th>項目名</th>
            <th>種類</th>
            <th>説明</th>
        </tr>
        <tr>
            <td>ENG005_008</td>
            <td>表示期間選択</td>
            <td>ドロップダウン</td>
            <td>カレンダーで表示する年月を選択</td>
        </tr>
        <tr>
            <td>ENG005_009</td>
            <td>表示形式切替</td>
            <td>ボタングループ</td>
            <td>月次・週次・日次のカレンダー表示形式を切り替え</td>
        </tr>
        <tr>
            <td>ENG005_010</td>
            <td>稼働状況フィルター</td>
            <td>チェックボックスグループ</td>
            <td>稼働中、待機中、予約済み、休暇中の状態でフィルタリング</td>
        </tr>
        <tr>
            <td>ENG005_011</td>
            <td>所属フィルター</td>
            <td>チェックボックスグループ</td>
            <td>社員、協力会社などの所属でフィルタリング</td>
        </tr>
        <tr>
            <td>ENG005_012</td>
            <td>スキルフィルター</td>
            <td>ドロップダウン</td>
            <td>特定のスキルを持つ技術者でフィルタリング</td>
        </tr>
        <tr>
            <td>ENG005_013</td>
            <td>タグフィルター</td>
            <td>テキスト入力+タグ</td>
            <td>タグによるフィルタリング</td>
        </tr>
        <tr>
            <td>ENG005_014</td>
            <td>フィルター適用ボタン</td>
            <td>ボタン</td>
            <td>設定したフィルター条件を適用</td>
        </tr>
        <tr>
            <td>ENG005_015</td>
            <td>フィルターリセットボタン</td>
            <td>ボタン</td>
            <td>フィルター設定をリセット</td>
        </tr>
    </table>

    <h3>4. 技術者一覧部分</h3>
    <table>
        <tr>
            <th>項目ID</th>
            <th>項目名</th>
            <th>種類</th>
            <th>説明</th>
        </tr>
        <tr>
            <td>ENG005_016</td>
            <td>技術者リスト</td>
            <td>リスト</td>
            <td>フィルター条件に合致する技術者の一覧を表示</td>
        </tr>
        <tr>
            <td>ENG005_017</td>
            <td>技術者表示切替スイッチ</td>
            <td>トグルスイッチ</td>
            <td>カレンダーに表示する技術者を個別に設定</td>
        </tr>
        <tr>
            <td>ENG005_018</td>
            <td>技術者ステータスアイコン</td>
            <td>アイコン</td>
            <td>各技術者の現在の稼働状況をアイコンで表示</td>
        </tr>
    </table>

    <h3>5. カレンダー表示部分</h3>
    <table>
        <tr>
            <th>項目ID</th>
            <th>項目名</th>
            <th>種類</th>
            <th>説明</th>
        </tr>
        <tr>
            <td>ENG005_019</td>
            <td>期間ナビゲーション</td>
            <td>ボタングループ</td>
            <td>前月/次月への移動や今日への移動機能</td>
        </tr>
        <tr>
            <td>ENG005_020</td>
            <td>カレンダーヘッダー</td>
            <td>ヘッダー行</td>
            <td>曜日の表示</td>
        </tr>
        <tr>
            <td>ENG005_021</td>
            <td>カレンダーデイセル</td>
            <td>セル</td>
            <td>日付と稼働イベントを表示するセル</td>
        </tr>
        <tr>
            <td>ENG005_022</td>
            <td>稼働イベント</td>
            <td>イベント表示</td>
            <td>案件アサイン、予約、休暇などの稼働イベントを表示</td>
        </tr>
        <tr>
            <td>ENG005_023</td>
            <td>カレンダーフッター</td>
            <td>フッター</td>
            <td>表示されている技術者数と稼働状況の集計を表示</td>
        </tr>
    </table>

    <h3>6. 稼働状況サマリー部分</h3>
    <table>
        <tr>
            <th>項目ID</th>
            <th>項目名</th>
            <th>種類</th>
            <th>説明</th>
        </tr>
        <tr>
            <td>ENG005_024</td>
            <td>稼働率サマリー</td>
            <td>カード</td>
            <td>選択期間の稼働率と前月比を表示</td>
        </tr>
        <tr>
            <td>ENG005_025</td>
            <td>稼働中人数サマリー</td>
            <td>カード</td>
            <td>稼働中の技術者数と前月比を表示</td>
        </tr>
        <tr>
            <td>ENG005_026</td>
            <td>待機中人数サマリー</td>
            <td>カード</td>
            <td>待機中の技術者数と前月比を表示</td>
        </tr>
        <tr>
            <td>ENG005_027</td>
            <td>予約済み人数サマリー</td>
            <td>カード</td>
            <td>予約済みの技術者数と前月比を表示</td>
        </tr>
    </table>

    <h3>7. 稼働状況更新モーダル</h3>
    <table>
        <tr>
            <th>項目ID</th>
            <th>項目名</th>
            <th>種類</th>
            <th>説明</th>
        </tr>
        <tr>
            <td>ENG005_028</td>
            <td>モーダルタイトル</td>
            <td>テキスト</td>
            <td>「稼働状況更新」のタイトルを表示</td>
        </tr>
        <tr>
            <td>ENG005_029</td>
            <td>技術者名入力</td>
            <td>テキスト入力（読み取り専用）</td>
            <td>対象技術者の名前を表示</td>
        </tr>
        <tr>
            <td>ENG005_030</td>
            <td>日付入力</td>
            <td>日付入力</td>
            <td>稼働状況を更新する日付を選択</td>
        </tr>
        <tr>
            <td>ENG005_031</td>
            <td>ステータス選択</td>
            <td>ドロップダウン</td>
            <td>案件アサイン、予約、休暇などのステータスを選択</td>
        </tr>
        <tr>
            <td>ENG005_032</td>
            <td>案件選択</td>
            <td>ドロップダウン</td>
            <td>関連する案件を選択</td>
        </tr>
        <tr>
            <td>ENG005_033</td>
            <td>内容入力</td>
            <td>テキストエリア</td>
            <td>稼働内容や備考を入力</td>
        </tr>
        <tr>
            <td>ENG005_034</td>
            <td>キャンセルボタン</td>
            <td>ボタン</td>
            <td>モーダルを閉じる</td>
        </tr>
        <tr>
            <td>ENG005_035</td>
            <td>保存ボタン</td>
            <td>ボタン</td>
            <td>入力内容を保存して反映</td>
        </tr>
    </table>

    <h2>画面動作仕様</h2>
    <ol>
        <li>画面初期表示時は、現在の月のカレンダーで全技術者の稼働状況を表示
            <ul>
                <li>現在日は背景色を変えてハイライト表示</li>
                <li>土日は背景色を変えて区別</li>
                <li>前月/翌月の日はグレーアウト表示</li>
            </ul>
        </li>
        <li>カレンダービューの切り替えボタン（月次・週次・日次）で表示形式を変更
            <ul>
                <li>月次：1ヶ月分のカレンダーを表示（デフォルト）</li>
                <li>週次：1週間分のカレンダーを詳細表示</li>
                <li>日次：1日分の詳細スケジュールを表示</li>
            </ul>
        </li>
        <li>期間選択で表示するカレンダーの期間を変更
            <ul>
                <li>表示期間ドロップダウンから年月を選択</li>
                <li>前月/次月ボタンでカレンダーを前後に移動</li>
                <li>「今日」ボタンで現在の日付を含む期間を表示</li>
            </ul>
        </li>
        <li>技術者フィルタで表示する技術者を絞り込み
            <ul>
                <li>稼働状況（稼働中、待機中、予約済み、休暇中）でフィルタリング</li>
                <li>所属（社員、協力会社）でフィルタリング</li>
                <li>スキルでフィルタリング</li>
                <li>タグでフィルタリング</li>
                <li>「フィルター適用」ボタンを押すとフィルター条件が適用される</li>
                <li>「リセット」ボタンを押すとフィルター条件がデフォルト状態に戻る</li>
            </ul>
        </li>
        <li>技術者一覧の表示切替スイッチで、カレンダーに表示する技術者を個別に設定
            <ul>
                <li>スイッチがONの技術者のみカレンダーに表示</li>
                <li>スイッチをON/OFFするとリアルタイムでカレンダー表示が更新される</li>
            </ul>
        </li>
        <li>カレンダー内の稼働イベントの表示
            <ul>
                <li>案件アサイン：緑色の背景で表示</li>
                <li>予約：黄色の背景で表示</li>
                <li>休暇：赤色の背景で表示</li>
                <li>その他（面談予定など）：灰色の背景で表示</li>
                <li>イベントの表示内容は「技術者名：案件/内容」の形式</li>
            </ul>
        </li>
        <li>カレンダー内の稼働イベントまたは日付セルをクリックすると、稼働状況更新モーダルが表示される
            <ul>
                <li>既存のイベントをクリックした場合は、そのイベントの情報がモーダルに読み込まれる</li>
                <li>空の日付セルをクリックした場合は、新規作成モードでモーダルが表示される</li>
            </ul>
        </li>
        <li>「稼働状況登録」ボタンをクリックすると、新規作成モードで稼働状況更新モーダルが表示される</li>
        <li>稼働状況更新モーダルでの操作
            <ul>
                <li>技術者が自動的に選択されている場合は、技術者名は読み取り専用で表示</li>
                <li>日付を選択/変更可能</li>
                <li>ステータスをドロップダウンから選択</li>
                <li>案件をドロップダウンから選択（ステータスが「案件アサイン」または「予約」の場合のみ有効）</li>
                <li>内容/備考をテキストエリアに入力</li>
                <li>「保存」ボタンを押すと情報が保存され、カレンダー表示に反映される</li>
                <li>「キャンセル」ボタンを押すとモーダルが閉じ、変更は保存されない</li>
            </ul>
        </li>
        <li>「稼働予測レポート」ボタンをクリックすると、選択期間の稼働予測情報がレポート形式で表示される
            <ul>
                <li>月別の稼働率予測</li>
                <li>案件別の技術者アサイン状況</li>
                <li>待機中の技術者リスト</li>
                <li>契約終了が近い技術者リスト</li>
            </ul>
        </li>
        <li>「技術者一覧に戻る」ボタンをクリックすると、技術者一覧画面（ENG-001）に戻る</li>
        <li>稼働状況サマリーには選択期間の統計情報が表示される
            <ul>
                <li>稼働率（全技術者に対する稼働中の技術者の割合）</li>
                <li>稼働中の技術者数</li>
                <li>待機中の技術者数</li>
                <li>予約済みの技術者数</li>
                <li>各指標の前月比</li>
            </ul>
        </li>
    </ol>

    <div class="note">
        <p><strong>注意事項：</strong> 稼働状況の更新は、当該技術者の担当営業または人事権限を持つユーザーのみが可能です。また、過去の稼働状況を変更する場合は、変更履歴が記録されます。権限管理と変更履歴の確認により、稼働状況データの整合性と信頼性を担保してください。</p>
    </div>

    <div class="footer">
        <p>作成日: 2025年5月5日<br>
        バージョン: 1.0</p>
    </div>
    
    <!-- モックアップビューワーのJavaScript -->
    <script src="../../js/mockup-viewer.js"></script>
    <script>
        // ページ読み込み後にモックアップビューワーを初期化
        document.addEventListener('DOMContentLoaded', function() {
            // モックアップの設定
            new MockupViewer('work-status-mockup', {
                responsive: true,
                showControls: true,
                defaultHeight: '800px',
                mockups: [
                    {
                        name: '稼働状況管理',
                        path: 'mockups/ENG-005.html',
                        description: '技術者の稼働状況をカレンダー形式で管理する画面です。ヘッダー部分には操作メニューと稼働予測レポート・新規登録ボタンがあり、フィルターセクションでは表示期間の選択や月次・週次・日次の表示形式切替、稼働状況・所属・スキル・タグによるフィルタリングが可能です。左側には技術者一覧があり、各技術者の表示切替スイッチとステータスアイコンが表示されます。メイン部分のカレンダーでは、選択された技術者の稼働状況を色分けして表示し、案件アサイン（緑）、予約（黄）、休暇（赤）などが直感的に把握できます。カレンダー内のイベントや日付セルをクリックすると稼働状況更新モーダルが開き、内容の確認や編集が可能です。画面下部の稼働状況サマリーには、稼働率や稼働中・待機中・予約済みの技術者数と前月比が表示され、人員リソースの全体状況を一目で把握できます。本画面は営業や人事担当者がリソース管理やアサイン計画を立てるための重要なツールです。'
                    }
                ]
            });
        });
    </script>
</body>
</html>