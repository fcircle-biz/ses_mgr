<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SES業務システム 共通画面設計</title>
    <style>
        body {
            font-family: 'Helvetica Neue', Arial, 'Hiragino Kaku Gothic ProN', 'Hiragino Sans', Meiryo, sans-serif;
            line-height: 1.6;
            color: #333;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        h1, h2, h3, h4, h5, h6 {
            color: #2c3e50;
            margin-top: 1.5em;
            margin-bottom: 0.5em;
        }
        h1 {
            font-size: 28px;
            text-align: center;
            margin-top: 1em;
            border-bottom: 2px solid #3498db;
            padding-bottom: 10px;
        }
        h2 {
            font-size: 24px;
            border-left: 5px solid #3498db;
            padding-left: 10px;
            background-color: #f8f9fa;
            padding: 8px 12px;
        }
        h3 {
            font-size: 20px;
            border-bottom: 1px solid #ddd;
            padding-bottom: 5px;
        }
        h4 {
            font-size: 18px;
            margin-top: 20px;
        }
        table {
            border-collapse: collapse;
            width: 100%;
            margin-bottom: 20px;
        }
        th, td {
            border: 1px solid #ddd;
            padding: 8px 12px;
            text-align: left;
        }
        th {
            background-color: #f2f2f2;
            font-weight: bold;
        }
        tr:nth-child(even) {
            background-color: #f8f9fa;
        }
        .wireframe {
            border: 1px solid #ddd;
            padding: 20px;
            margin: 20px 0;
            background-color: #f9f9f9;
            text-align: center;
        }
        .wireframe img {
            max-width: 100%;
            height: auto;
        }
        .wireframe-placeholder {
            width: 100%;
            height: 400px;
            display: flex;
            justify-content: center;
            align-items: center;
            background-color: #f2f2f2;
            border: 2px dashed #ccc;
            font-style: italic;
            color: #666;
        }
        .footer {
            margin-top: 50px;
            padding-top: 20px;
            border-top: 1px solid #eee;
            text-align: center;
            color: #777;
            font-size: 14px;
        }
        .component {
            border: 1px solid #ddd;
            padding: 10px;
            margin: 10px 0;
            background-color: #f9f9f9;
        }
        .component h4 {
            margin-top: 0;
            border-bottom: 1px solid #ddd;
            padding-bottom: 5px;
        }
        .mockup {
            font-family: monospace;
            white-space: pre;
            background-color: #f8f8f8;
            padding: 15px;
            border: 1px solid #ddd;
            border-radius: 4px;
            margin: 20px 0;
            font-size: 14px;
            overflow-x: auto;
        }
    </style>
</head>
<body>
    <h1>SES業務システム 共通画面設計</h1>

    <h2>CMN-001: ログイン画面</h2>
    
    <h3>画面概要</h3>
    <table>
        <tr>
            <th>項目</th>
            <th>内容</th>
        </tr>
        <tr>
            <td>画面ID</td>
            <td>CMN-001</td>
        </tr>
        <tr>
            <td>画面名</td>
            <td>ログイン画面</td>
        </tr>
        <tr>
            <td>概要</td>
            <td>システムへのログイン認証を行う画面</td>
        </tr>
        <tr>
            <td>対象ユーザー</td>
            <td>全ユーザー</td>
        </tr>
        <tr>
            <td>前画面</td>
            <td>なし</td>
        </tr>
        <tr>
            <td>次画面</td>
            <td>CMN-002: ダッシュボード</td>
        </tr>
    </table>

    <h3>画面レイアウト</h3>
    <div class="wireframe">
        <div class="wireframe-placeholder">
            [ログイン画面のワイヤーフレーム]
        </div>
    </div>

    <h3>画面項目定義</h3>
    <table>
        <tr>
            <th>項目ID</th>
            <th>項目名</th>
            <th>種類</th>
            <th>入力制限</th>
            <th>必須</th>
            <th>説明</th>
        </tr>
        <tr>
            <td>login-001</td>
            <td>ユーザーID</td>
            <td>テキスト入力</td>
            <td>半角英数字、8〜20文字</td>
            <td>◯</td>
            <td>ログイン用ユーザーID</td>
        </tr>
        <tr>
            <td>login-002</td>
            <td>パスワード</td>
            <td>パスワード入力</td>
            <td>半角英数記号、12〜30文字</td>
            <td>◯</td>
            <td>ログイン用パスワード</td>
        </tr>
        <tr>
            <td>login-003</td>
            <td>ログインボタン</td>
            <td>ボタン</td>
            <td>-</td>
            <td>-</td>
            <td>ログイン処理実行用ボタン</td>
        </tr>
        <tr>
            <td>login-004</td>
            <td>パスワードを忘れた場合</td>
            <td>リンク</td>
            <td>-</td>
            <td>-</td>
            <td>パスワードリセット画面へのリンク</td>
        </tr>
        <tr>
            <td>login-005</td>
            <td>多要素認証コード</td>
            <td>テキスト入力</td>
            <td>半角数字、6桁</td>
            <td>△</td>
            <td>多要素認証が有効な場合に表示される入力欄</td>
        </tr>
    </table>

    <h3>画面動作仕様</h3>
    <ol>
        <li>ユーザーIDとパスワードを入力し、ログインボタンをクリックする</li>
        <li>入力値のバリデーションを行う
            <ul>
                <li>ユーザーIDまたはパスワードが未入力の場合はエラーメッセージを表示</li>
                <li>入力形式が不正な場合はエラーメッセージを表示</li>
            </ul>
        </li>
        <li>ユーザー認証を行う
            <ul>
                <li>認証に失敗した場合はエラーメッセージを表示</li>
                <li>5回連続で認証に失敗した場合はアカウントをロックし、管理者への連絡方法を表示</li>
            </ul>
        </li>
        <li>多要素認証が有効な場合
            <ul>
                <li>多要素認証画面を表示し、認証コードの入力を求める</li>
                <li>認証コードが正しければログイン処理を完了、不正の場合はエラーメッセージを表示</li>
            </ul>
        </li>
        <li>認証に成功した場合、ダッシュボード画面に遷移する</li>
    </ol>

    <h3>Thymeleafテンプレート実装例</h3>
    <div class="mockup">
&lt;!DOCTYPE html&gt;
&lt;html xmlns:th="http://www.thymeleaf.org"&gt;
&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt;
    &lt;title&gt;SES業務システム - ログイン&lt;/title&gt;
    &lt;link rel="stylesheet" th:href="@{/css/main.css}"&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;div class="login-container"&gt;
        &lt;div class="login-header"&gt;
            &lt;h1&gt;SES業務システム&lt;/h1&gt;
        &lt;/div&gt;
        
        &lt;div class="login-form"&gt;
            &lt;div th:if="${param.error}" class="alert alert-danger"&gt;
                ユーザーIDまたはパスワードが正しくありません。
            &lt;/div&gt;
            &lt;div th:if="${param.locked}" class="alert alert-danger"&gt;
                アカウントがロックされています。管理者にお問い合わせください。
            &lt;/div&gt;
            
            &lt;form th:action="@{/login}" method="post"&gt;
                &lt;div class="form-group"&gt;
                    &lt;label for="username"&gt;ユーザーID&lt;/label&gt;
                    &lt;input type="text" id="username" name="username" required 
                           pattern="[A-Za-z0-9]{8,20}" 
                           title="半角英数字、8〜20文字で入力してください。"&gt;
                &lt;/div&gt;
                
                &lt;div class="form-group"&gt;
                    &lt;label for="password"&gt;パスワード&lt;/label&gt;
                    &lt;input type="password" id="password" name="password" required
                           pattern="[A-Za-z0-9!@#$%^&*()_+]{12,30}"
                           title="半角英数記号、12〜30文字で入力してください。"&gt;
                &lt;/div&gt;
                
                &lt;div th:if="${mfaRequired}" class="form-group"&gt;
                    &lt;label for="mfaCode"&gt;認証コード&lt;/label&gt;
                    &lt;input type="text" id="mfaCode" name="mfaCode" required
                           pattern="[0-9]{6}" title="6桁の数字を入力してください。"&gt;
                    &lt;small&gt;お持ちの認証アプリに表示されたコードを入力してください。&lt;/small&gt;
                &lt;/div&gt;
                
                &lt;div class="form-actions"&gt;
                    &lt;button type="submit" class="btn btn-primary"&gt;ログイン&lt;/button&gt;
                    &lt;a href="/password-reset" class="password-reset-link"&gt;パスワードを忘れた場合&lt;/a&gt;
                &lt;/div&gt;
            &lt;/form&gt;
        &lt;/div&gt;
    &lt;/div&gt;
    
    &lt;script th:src="@{/js/login.js}"&gt;&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;
    </div>

    <h2>CMN-002: ダッシュボード</h2>
    
    <h3>画面概要</h3>
    <table>
        <tr>
            <th>項目</th>
            <th>内容</th>
        </tr>
        <tr>
            <td>画面ID</td>
            <td>CMN-002</td>
        </tr>
        <tr>
            <td>画面名</td>
            <td>ダッシュボード</td>
        </tr>
        <tr>
            <td>概要</td>
            <td>ユーザーごとのホーム画面・通知一覧を表示する画面</td>
        </tr>
        <tr>
            <td>対象ユーザー</td>
            <td>全ユーザー</td>
        </tr>
        <tr>
            <td>前画面</td>
            <td>CMN-001: ログイン画面</td>
        </tr>
        <tr>
            <td>次画面</td>
            <td>各機能メニューへの遷移</td>
        </tr>
    </table>

    <h3>画面レイアウト</h3>
    <div class="wireframe">
        <div class="wireframe-placeholder">
            [ダッシュボード画面のワイヤーフレーム]
        </div>
    </div>

    <h3>画面構成コンポーネント</h3>
    <div class="component">
        <h4>ヘッダー</h4>
        <p>画面上部に表示される共通ヘッダー</p>
        <ul>
            <li>システムロゴ</li>
            <li>グローバルナビゲーションメニュー</li>
            <li>通知アイコン（未読通知数表示）</li>
            <li>ユーザー情報ドロップダウン</li>
        </ul>
    </div>

    <div class="component">
        <h4>通知パネル</h4>
        <p>最新の通知を表示するパネル</p>
        <ul>
            <li>未読通知一覧</li>
            <li>通知種別アイコン</li>
            <li>通知タイトル</li>
            <li>通知日時</li>
            <li>全通知一覧へのリンク</li>
        </ul>
    </div>

    <div class="component">
        <h4>クイックアクション</h4>
        <p>よく使う機能へのショートカット</p>
        <ul>
            <li>案件登録</li>
            <li>技術者検索</li>
            <li>勤怠入力</li>
            <li>請求書作成（ロールにより表示項目が変動）</li>
        </ul>
    </div>

    <div class="component">
        <h4>業務進捗情報</h4>
        <p>ユーザーの担当業務の進捗状況</p>
        <ul>
            <li>承認待ちタスク一覧</li>
            <li>期限の近いタスク</li>
            <li>最近の活動履歴</li>
        </ul>
    </div>

    <div class="component">
        <h4>KPI概要</h4>
        <p>ロールに応じた主要KPIの表示（経営層・管理者向け）</p>
        <ul>
            <li>当月売上状況</li>
            <li>稼働率概要</li>
            <li>案件獲得状況</li>
            <li>詳細レポートへのリンク</li>
        </ul>
    </div>

    <h3>ユーザーロール別表示項目</h3>
    <table>
        <tr>
            <th>ユーザーロール</th>
            <th>表示コンポーネント</th>
            <th>カスタマイズ</th>
        </tr>
        <tr>
            <td>経営層</td>
            <td>ヘッダー、通知パネル、KPI概要、業務進捗情報</td>
            <td>KPI概要が拡張表示</td>
        </tr>
        <tr>
            <td>営業担当者</td>
            <td>ヘッダー、通知パネル、クイックアクション、業務進捗情報</td>
            <td>案件関連のクイックアクションを優先表示</td>
        </tr>
        <tr>
            <td>人事担当者</td>
            <td>ヘッダー、通知パネル、クイックアクション、業務進捗情報</td>
            <td>技術者関連のクイックアクションを優先表示</td>
        </tr>
        <tr>
            <td>経理担当者</td>
            <td>ヘッダー、通知パネル、クイックアクション、業務進捗情報</td>
            <td>請求・支払関連のクイックアクションを優先表示</td>
        </tr>
        <tr>
            <td>技術者</td>
            <td>ヘッダー、通知パネル、クイックアクション、業務進捗情報</td>
            <td>勤怠・工数入力へのクイックアクションを優先表示</td>
        </tr>
    </table>

    <h3>Thymeleafテンプレート実装例</h3>
    <div class="mockup">
&lt;!DOCTYPE html&gt;
&lt;html xmlns:th="http://www.thymeleaf.org"&gt;
&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt;
    &lt;title&gt;SES業務システム - ダッシュボード&lt;/title&gt;
    &lt;link rel="stylesheet" th:href="@{/css/main.css}"&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;!-- ヘッダー部分（共通コンポーネント） --&gt;
    &lt;header th:replace="fragments/header :: header"&gt;&lt;/header&gt;
    
    &lt;div class="dashboard-container"&gt;
        &lt;div class="dashboard-header"&gt;
            &lt;h1&gt;ダッシュボード&lt;/h1&gt;
            &lt;span th:text="${#temporals.format(#temporals.createNow(), 'yyyy年MM月dd日')}"&gt;2025年05月05日&lt;/span&gt;
        &lt;/div&gt;
        
        &lt;!-- 通知パネル --&gt;
        &lt;div class="notification-panel panel"&gt;
            &lt;div class="panel-header"&gt;
                &lt;h2&gt;通知 &lt;span class="badge" th:text="${unreadNotifications.size()}"&gt;3&lt;/span&gt;&lt;/h2&gt;
                &lt;a th:href="@{/notifications}" class="view-all"&gt;すべて表示&lt;/a&gt;
            &lt;/div&gt;
            &lt;div class="panel-body"&gt;
                &lt;div th:if="${unreadNotifications.empty}" class="empty-state"&gt;
                    未読の通知はありません
                &lt;/div&gt;
                &lt;ul class="notification-list" th:unless="${unreadNotifications.empty}"&gt;
                    &lt;li th:each="notification : ${unreadNotifications}" 
                        th:class="${notification.priority == 'HIGH'} ? 'notification-item priority-high' : 'notification-item'"&gt;
                        &lt;div class="notification-icon" th:classappend="${'notification-icon-' + notification.type.toLowerCase()}"&gt;&lt;/div&gt;
                        &lt;div class="notification-content"&gt;
                            &lt;div class="notification-title" th:text="${notification.title}"&gt;通知タイトル&lt;/div&gt;
                            &lt;div class="notification-time" th:text="${#temporals.format(notification.createdAt, 'MM/dd HH:mm')}"&gt;05/04 14:30&lt;/div&gt;
                        &lt;/div&gt;
                    &lt;/li&gt;
                &lt;/ul&gt;
            &lt;/div&gt;
        &lt;/div&gt;
        
        &lt;!-- クイックアクション（ロールに応じた表示） --&gt;
        &lt;div class="quick-actions panel" th:if="${@authService.hasAnyRole('ROLE_SALES', 'ROLE_HR', 'ROLE_ACCOUNTING', 'ROLE_ENGINEER')}"&gt;
            &lt;div class="panel-header"&gt;
                &lt;h2&gt;クイックアクション&lt;/h2&gt;
            &lt;/div&gt;
            &lt;div class="panel-body"&gt;
                &lt;div class="action-buttons"&gt;
                    &lt;!-- 営業担当者向けアクション --&gt;
                    &lt;a th:if="${@authService.hasRole('ROLE_SALES')}" th:href="@{/projects/create}" class="action-button"&gt;
                        &lt;span class="icon icon-project"&gt;&lt;/span&gt;
                        &lt;span class="label"&gt;案件登録&lt;/span&gt;
                    &lt;/a&gt;
                    
                    &lt;!-- 人事担当者向けアクション --&gt;
                    &lt;a th:if="${@authService.hasRole('ROLE_HR')}" th:href="@{/engineers/create}" class="action-button"&gt;
                        &lt;span class="icon icon-engineer"&gt;&lt;/span&gt;
                        &lt;span class="label"&gt;技術者登録&lt;/span&gt;
                    &lt;/a&gt;
                    
                    &lt;!-- 経理担当者向けアクション --&gt;
                    &lt;a th:if="${@authService.hasRole('ROLE_ACCOUNTING')}" th:href="@{/billing/create}" class="action-button"&gt;
                        &lt;span class="icon icon-invoice"&gt;&lt;/span&gt;
                        &lt;span class="label"&gt;請求書作成&lt;/span&gt;
                    &lt;/a&gt;
                    
                    &lt;!-- 技術者向けアクション --&gt;
                    &lt;a th:if="${@authService.hasRole('ROLE_ENGINEER')}" th:href="@{/timesheet/daily}" class="action-button"&gt;
                        &lt;span class="icon icon-timesheet"&gt;&lt;/span&gt;
                        &lt;span class="label"&gt;勤怠入力&lt;/span&gt;
                    &lt;/a&gt;
                    
                    &lt;!-- 全ロール共通アクション --&gt;
                    &lt;a th:href="@{/matching/search}" class="action-button"&gt;
                        &lt;span class="icon icon-search"&gt;&lt;/span&gt;
                        &lt;span class="label"&gt;マッチング検索&lt;/span&gt;
                    &lt;/a&gt;
                &lt;/div&gt;
            &lt;/div&gt;
        &lt;/div&gt;
        
        &lt;!-- 業務進捗情報 --&gt;
        &lt;div class="task-progress panel"&gt;
            &lt;div class="panel-header"&gt;
                &lt;h2&gt;業務進捗情報&lt;/h2&gt;
            &lt;/div&gt;
            &lt;div class="panel-body"&gt;
                &lt;!-- 承認待ちタスク --&gt;
                &lt;div class="tasks-section"&gt;
                    &lt;h3&gt;承認待ちタスク &lt;span class="badge" th:text="${pendingApprovals.size()}"&gt;2&lt;/span&gt;&lt;/h3&gt;
                    &lt;div th:if="${pendingApprovals.empty}" class="empty-state"&gt;
                        承認待ちタスクはありません
                    &lt;/div&gt;
                    &lt;ul class="task-list" th:unless="${pendingApprovals.empty}"&gt;
                        &lt;li th:each="task : ${pendingApprovals}" class="task-item"&gt;
                            &lt;a th:href="${task.url}" th:text="${task.title}"&gt;タスク名&lt;/a&gt;
                            &lt;span class="task-date" th:text="${#temporals.format(task.dueDate, 'MM/dd')}"&gt;05/10&lt;/span&gt;
                        &lt;/li&gt;
                    &lt;/ul&gt;
                &lt;/div&gt;
                
                &lt;!-- 期限の近いタスク --&gt;
                &lt;div class="tasks-section"&gt;
                    &lt;h3&gt;期限の近いタスク&lt;/h3&gt;
                    &lt;div th:if="${upcomingTasks.empty}" class="empty-state"&gt;
                        期限の近いタスクはありません
                    &lt;/div&gt;
                    &lt;ul class="task-list" th:unless="${upcomingTasks.empty}"&gt;
                        &lt;li th:each="task : ${upcomingTasks}" class="task-item"
                            th:classappend="${task.isUrgent} ? 'task-urgent' : ''"&gt;
                            &lt;a th:href="${task.url}" th:text="${task.title}"&gt;タスク名&lt;/a&gt;
                            &lt;span class="task-date" th:text="${#temporals.format(task.dueDate, 'MM/dd')}"&gt;05/10&lt;/span&gt;
                        &lt;/li&gt;
                    &lt;/ul&gt;
                &lt;/div&gt;
            &lt;/div&gt;
        &lt;/div&gt;
        
        &lt;!-- KPI概要（経営層・管理者向け） --&gt;
        &lt;div class="kpi-summary panel" th:if="${@authService.hasAnyRole('ROLE_EXECUTIVE', 'ROLE_MANAGER')}"&gt;
            &lt;div class="panel-header"&gt;
                &lt;h2&gt;KPI概要&lt;/h2&gt;
                &lt;a th:href="@{/reports/kpi}" class="view-all"&gt;詳細表示&lt;/a&gt;
            &lt;/div&gt;
            &lt;div class="panel-body"&gt;
                &lt;div class="kpi-grid"&gt;
                    &lt;!-- 売上状況 --&gt;
                    &lt;div class="kpi-card"&gt;
                        &lt;div class="kpi-title"&gt;当月売上&lt;/div&gt;
                        &lt;div class="kpi-value" th:text="${#numbers.formatInteger(monthlySales, 1, 'COMMA') + '円'}"&gt;
                            10,000,000円
                        &lt;/div&gt;
                        &lt;div class="kpi-progress"&gt;
                            &lt;div class="progress-bar"&gt;
                                &lt;div class="progress-fill" th:style="'width:' + ${salesProgress} + '%'"&gt;&lt;/div&gt;
                            &lt;/div&gt;
                            &lt;div class="progress-label" th:text="${salesProgress + '% (' + salesLabel + ')'}"&gt;
                                85% (目標達成まで150万円)
                            &lt;/div&gt;
                        &lt;/div&gt;
                    &lt;/div&gt;
                    
                    &lt;!-- 稼働率 --&gt;
                    &lt;div class="kpi-card"&gt;
                        &lt;div class="kpi-title"&gt;稼働率&lt;/div&gt;
                        &lt;div class="kpi-value" th:text="${utilizationRate + '%'}"&gt;92%&lt;/div&gt;
                        &lt;div class="kpi-detail"&gt;
                            &lt;span th:text="${'稼働中: ' + workingEngineers + '名 / 全体: ' + totalEngineers + '名'}"&gt;
                                稼働中: 92名 / 全体: 100名
                            &lt;/span&gt;
                        &lt;/div&gt;
                    &lt;/div&gt;
                    
                    &lt;!-- 案件状況 --&gt;
                    &lt;div class="kpi-card"&gt;
                        &lt;div class="kpi-title"&gt;案件状況&lt;/div&gt;
                        &lt;div class="kpi-chart"&gt;
                            &lt;!-- 案件状況チャート（JavaScript/Chart.jsなどで実装） --&gt;
                            &lt;div id="projectStatusChart"&gt;&lt;/div&gt;
                        &lt;/div&gt;
                    &lt;/div&gt;
                &lt;/div&gt;
            &lt;/div&gt;
        &lt;/div&gt;
    &lt;/div&gt;
    
    &lt;!-- フッター部分（共通コンポーネント） --&gt;
    &lt;footer th:replace="fragments/footer :: footer"&gt;&lt;/footer&gt;
    
    &lt;script th:src="@{/js/dashboard.js}"&gt;&lt;/script&gt;
    &lt;script th:if="${@authService.hasAnyRole('ROLE_EXECUTIVE', 'ROLE_MANAGER')}" th:src="@{/js/charts.js}"&gt;&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;
    </div>

    <h2>CMN-003: メニュー（グローバルナビゲーション）</h2>
    
    <h3>画面概要</h3>
    <table>
        <tr>
            <th>項目</th>
            <th>内容</th>
        </tr>
        <tr>
            <td>画面ID</td>
            <td>CMN-003</td>
        </tr>
        <tr>
            <td>画面名</td>
            <td>メニュー（グローバルナビゲーション）</td>
        </tr>
        <tr>
            <td>概要</td>
            <td>全画面で共通して表示されるグローバルナビゲーションメニュー</td>
        </tr>
        <tr>
            <td>対象ユーザー</td>
            <td>全ユーザー</td>
        </tr>
    </table>

    <h3>コンポーネント仕様</h3>
    <div class="wireframe">
        <div class="wireframe-placeholder">
            [グローバルナビゲーションのワイヤーフレーム]
        </div>
    </div>

    <h3>メニュー構成</h3>
    <table>
        <tr>
            <th>メインメニュー</th>
            <th>サブメニュー</th>
            <th>リンク先</th>
            <th>表示条件</th>
        </tr>
        <tr>
            <td>ダッシュボード</td>
            <td>-</td>
            <td>/dashboard</td>
            <td>全ユーザー</td>
        </tr>
        <tr>
            <td rowspan="3">案件管理</td>
            <td>案件一覧</td>
            <td>/projects</td>
            <td rowspan="3">ROLE_SALES, ROLE_EXECUTIVE, ROLE_MANAGER</td>
        </tr>
        <tr>
            <td>案件登録</td>
            <td>/projects/create</td>
        </tr>
        <tr>
            <td>顧客管理</td>
            <td>/customers</td>
        </tr>
        <tr>
            <td rowspan="3">技術者管理</td>
            <td>技術者一覧</td>
            <td>/engineers</td>
            <td rowspan="3">ROLE_HR, ROLE_SALES, ROLE_EXECUTIVE, ROLE_MANAGER</td>
        </tr>
        <tr>
            <td>技術者登録</td>
            <td>/engineers/create</td>
        </tr>
        <tr>
            <td>スキルシート管理</td>
            <td>/engineers/skills</td>
        </tr>
        <tr>
            <td rowspan="2">マッチング</td>
            <td>マッチング検索</td>
            <td>/matching/search</td>
            <td rowspan="2">ROLE_SALES, ROLE_HR, ROLE_EXECUTIVE, ROLE_MANAGER</td>
        </tr>
        <tr>
            <td>提案管理</td>
            <td>/matching/proposals</td>
        </tr>
        <tr>
            <td rowspan="3">契約管理</td>
            <td>契約一覧</td>
            <td>/contracts</td>
            <td rowspan="3">ROLE_SALES, ROLE_ACCOUNTING, ROLE_EXECUTIVE, ROLE_MANAGER</td>
        </tr>
        <tr>
            <td>契約作成</td>
            <td>/contracts/create</td>
        </tr>
        <tr>
            <td>電子署名管理</td>
            <td>/contracts/signatures</td>
        </tr>
        <tr>
            <td rowspan="3">勤怠・工数</td>
            <td>勤怠入力</td>
            <td>/timesheet/daily</td>
            <td>ROLE_ENGINEER</td>
        </tr>
        <tr>
            <td>工数入力</td>
            <td>/timesheet/effort</td>
            <td>ROLE_ENGINEER</td>
        </tr>
        <tr>
            <td>勤怠承認</td>
            <td>/timesheet/approve</td>
            <td>ROLE_MANAGER, ROLE_HR</td>
        </tr>
        <tr>
            <td rowspan="3">請求・支払</td>
            <td>請求管理</td>
            <td>/billing/invoices</td>
            <td rowspan="3">ROLE_ACCOUNTING, ROLE_EXECUTIVE, ROLE_MANAGER</td>
        </tr>
        <tr>
            <td>入金管理</td>
            <td>/billing/payments</td>
        </tr>
        <tr>
            <td>支払管理</td>
            <td>/billing/expenses</td>
        </tr>
        <tr>
            <td rowspan="3">レポート</td>
            <td>KPIダッシュボード</td>
            <td>/reports/kpi</td>
            <td rowspan="3">ROLE_EXECUTIVE, ROLE_MANAGER</td>
        </tr>
        <tr>
            <td>売上・粗利レポート</td>
            <td>/reports/financial</td>
        </tr>
        <tr>
            <td>稼働・予測レポート</td>
            <td>/reports/utilization</td>
        </tr>
        <tr>
            <td rowspan="3">システム管理</td>
            <td>ユーザー管理</td>
            <td>/admin/users</td>
            <td rowspan="3">ROLE_ADMIN</td>
        </tr>
        <tr>
            <td>マスタ管理</td>
            <td>/admin/masters</td>
        </tr>
        <tr>
            <td>ログ管理</td>
            <td>/admin/logs</td>
        </tr>
    </table>

    <h3>レスポンシブ対応</h3>
    <ul>
        <li>デスクトップ表示: 左側固定の垂直ナビゲーション</li>
        <li>タブレット表示: 折りたたみ可能な垂直ナビゲーション</li>
        <li>モバイル表示: ハンバーガーメニュー方式に切替</li>
    </ul>

    <h3>Thymeleafテンプレート実装例（フラグメント）</h3>
    <div class="mockup">
&lt;!-- fragments/navigation.html --&gt;
&lt;!DOCTYPE html&gt;
&lt;html xmlns:th="http://www.thymeleaf.org"&gt;
&lt;body&gt;
    &lt;nav th:fragment="navigation" class="main-navigation" th:with="currentUrl=${#httpServletRequest.requestURI}"&gt;
        &lt;div class="nav-header"&gt;
            &lt;div class="logo"&gt;
                &lt;a th:href="@{/dashboard}"&gt;
                    &lt;img th:src="@{/images/logo.png}" alt="SES業務システム" /&gt;
                &lt;/a&gt;
            &lt;/div&gt;
            &lt;button class="nav-toggle" id="navToggle"&gt;
                &lt;span class="toggle-icon"&gt;&lt;/span&gt;
            &lt;/button&gt;
        &lt;/div&gt;
        
        &lt;div class="nav-content" id="navContent"&gt;
            &lt;ul class="nav-menu"&gt;
                &lt;!-- ダッシュボード --&gt;
                &lt;li class="nav-item" th:classappend="${currentUrl.startsWith('/dashboard')} ? 'active' : ''"&gt;
                    &lt;a th:href="@{/dashboard}" class="nav-link"&gt;
                        &lt;i class="icon-dashboard"&gt;&lt;/i&gt;
                        &lt;span&gt;ダッシュボード&lt;/span&gt;
                    &lt;/a&gt;
                &lt;/li&gt;
                
                &lt;!-- 案件管理 --&gt;
                &lt;li class="nav-item has-submenu" 
                    th:if="${@authService.hasAnyRole('ROLE_SALES', 'ROLE_EXECUTIVE', 'ROLE_MANAGER')}"
                    th:classappend="${currentUrl.startsWith('/projects') || currentUrl.startsWith('/customers')} ? 'active' : ''"&gt;
                    &lt;a href="#" class="nav-link"&gt;
                        &lt;i class="icon-projects"&gt;&lt;/i&gt;
                        &lt;span&gt;案件管理&lt;/span&gt;
                        &lt;i class="icon-chevron-down submenu-toggle"&gt;&lt;/i&gt;
                    &lt;/a&gt;
                    &lt;ul class="submenu"&gt;
                        &lt;li th:classappend="${currentUrl == '/projects'} ? 'active' : ''"&gt;
                            &lt;a th:href="@{/projects}"&gt;案件一覧&lt;/a&gt;
                        &lt;/li&gt;
                        &lt;li th:classappend="${currentUrl == '/projects/create'} ? 'active' : ''"&gt;
                            &lt;a th:href="@{/projects/create}"&gt;案件登録&lt;/a&gt;
                        &lt;/li&gt;
                        &lt;li th:classappend="${currentUrl.startsWith('/customers')} ? 'active' : ''"&gt;
                            &lt;a th:href="@{/customers}"&gt;顧客管理&lt;/a&gt;
                        &lt;/li&gt;
                    &lt;/ul&gt;
                &lt;/li&gt;
                
                &lt;!-- 以下、同様の形式で他のメニュー項目を定義 --&gt;
                &lt;!-- 技術者管理、マッチング、契約管理、勤怠・工数、請求・支払、レポート、システム管理 --&gt;
                
                &lt;!-- 一例として技術者管理メニュー --&gt;
                &lt;li class="nav-item has-submenu" 
                    th:if="${@authService.hasAnyRole('ROLE_HR', 'ROLE_SALES', 'ROLE_EXECUTIVE', 'ROLE_MANAGER')}"
                    th:classappend="${currentUrl.startsWith('/engineers')} ? 'active' : ''"&gt;
                    &lt;a href="#" class="nav-link"&gt;
                        &lt;i class="icon-engineers"&gt;&lt;/i&gt;
                        &lt;span&gt;技術者管理&lt;/span&gt;
                        &lt;i class="icon-chevron-down submenu-toggle"&gt;&lt;/i&gt;
                    &lt;/a&gt;
                    &lt;ul class="submenu"&gt;
                        &lt;li th:classappend="${currentUrl == '/engineers'} ? 'active' : ''"&gt;
                            &lt;a th:href="@{/engineers}"&gt;技術者一覧&lt;/a&gt;
                        &lt;/li&gt;
                        &lt;li th:classappend="${currentUrl == '/engineers/create'} ? 'active' : ''"&gt;
                            &lt;a th:href="@{/engineers/create}"&gt;技術者登録&lt;/a&gt;
                        &lt;/li&gt;
                        &lt;li th:classappend="${currentUrl == '/engineers/skills'} ? 'active' : ''"&gt;
                            &lt;a th:href="@{/engineers/skills}"&gt;スキルシート管理&lt;/a&gt;
                        &lt;/li&gt;
                    &lt;/ul&gt;
                &lt;/li&gt;
            &lt;/ul&gt;
        &lt;/div&gt;
    &lt;/nav&gt;
    
    &lt;script&gt;
        document.getElementById('navToggle').addEventListener('click', function() {
            const navContent = document.getElementById('navContent');
            navContent.classList.toggle('expanded');
        });
        
        // サブメニュートグル
        document.querySelectorAll('.submenu-toggle').forEach(function(toggle) {
            toggle.addEventListener('click', function(e) {
                e.preventDefault();
                e.stopPropagation();
                const parent = this.closest('.has-submenu');
                parent.classList.toggle('expanded');
            });
        });
    &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;
    </div>

    <div class="footer">
        <p>作成日: 2025年5月5日<br>
        バージョン: 1.0</p>
    </div>
</body>
</html>