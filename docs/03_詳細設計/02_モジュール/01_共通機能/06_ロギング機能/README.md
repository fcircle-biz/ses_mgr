# ロギング機能 詳細設計

## 概要
ロギング機能は、システム全体の動作状況、エラー、操作履歴などを記録する機能です。Spring Frameworkの標準ロギング機能を活用し、各種操作やイベントを体系的に収集、保存、検索できる仕組みを提供し、システムの監視、障害調査、監査、パフォーマンス分析などに活用します。

## ドキュメント構成

| ドキュメント | 内容 | 最終更新日 |
|------------|------|----------|
| [01_概要](./01_概要.md) | モジュールの目的、主要機能、アーキテクチャ | 2025-05-15 |
| [02_ドメインモデル](./02_ドメインモデル.md) | エンティティ定義、値オブジェクト | 2025-05-15 |
| [03_インターフェース定義](./03_インターフェース定義.md) | モジュールが提供/利用するインターフェース仕様 | 2025-05-15 |
| [04_アプリケーションログ機能](./04_アプリケーションログ機能.md) | アプリケーションログ機能の詳細設計 | 2025-05-15 |
| [05_監査ログ機能](./05_監査ログ機能.md) | 監査ログ機能の詳細設計 | 2025-05-15 |
| [06_パフォーマンスログ機能](./06_パフォーマンスログ機能.md) | パフォーマンス計測ログ機能の詳細設計 | 2025-05-15 |
| [07_分散トレーシング機能](./07_分散トレーシング機能.md) | 分散トレーシング機能の詳細設計 | 2025-05-15 |

## 提供インターフェース一覧

| インターフェース名 | 概要 | 利用モジュール |
|-----------------|------|--------------|
| SLF4J Logger | Spring標準のロギングインターフェース | 全モジュール |
| AuditEventPublisher | Spring Securityと連携した監査ログ発行インターフェース | 認証認可, ユーザー管理, 契約管理 |
| Micrometer MeterRegistry | Spring Boot Actuatorとの連携によるメトリクス収集インターフェース | 全モジュール |
| Micrometer Tracer | Spring Boot 3の分散トレーシング情報管理インターフェース | 全モジュール |

## 使用する主要なSpring標準機能

| 機能 | 概要 | 使用目的 |
|-----|------|----------|
| SLF4J + Logback | Javaの標準的なロギングフレームワーク | アプリケーションログの出力 |
| Spring Boot Actuator | アプリケーション監視と管理機能 | メトリクス収集、ヘルスチェック |
| Micrometer | アプリケーションメトリクスファサード | パフォーマンス計測 |
| Spring Security Auditing | セキュリティ関連操作の監査ログ | 監査証跡の記録 |
| Spring AOP | アスペクト指向プログラミング | ログ収集の横断的関心事の実装 |
| Micrometer Tracing | 分散トレーシング機能 | マイクロサービス間の処理追跡 |

## 要求インターフェース一覧

| インターフェース名 | 提供モジュール | 概要 |
|-----------------|--------------|------|
| UserContextProvider | 認証認可機能 | ログインユーザー情報の取得 |
| ErrorHandler | エラー処理機能 | エラー情報の取得と変換 |

## 関連モジュール

- [認証認可機能](../01_認証認可機能/)
- [エラー処理機能](../04_エラー処理機能/)