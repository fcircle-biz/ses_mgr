# SES業務システム 要件定義ドキュメント作成手順

## 1. 概要

本文書は、SES業務システムの要件定義フェーズで作成すべきドキュメントとその作成手順について記載しています。要件定義フェーズでは、システムの目的、機能要件、非機能要件、業務フロー、データモデルなどを明確にします。

## 2. 要件定義フェーズの目的

- システムの目的とゴールを明確にする
- ステークホルダーとユーザーの特定
- 現状の課題と解決方法を整理する
- 対象業務範囲（スコープ）を明確にする
- 機能要件・非機能要件を定義する
- データ要件を明確にする
- 開発計画・スケジュールの作成

## 3. 要件定義ドキュメント構成

要件定義フェーズでは、以下のドキュメントを作成します：

### 3.1 要件定義書

- **ファイル形式**: HTML
- **命名規則**: `要件定義書.html`
- **保存場所**: `/docs/01_要件定義/`
- **内容**:
  - プロジェクト概要（目的、対象組織、開発形態、前提技術、技術スタック）
  - 目的・ゴール（KPIを含む）
  - ステークホルダーとユーザー
  - 対象業務範囲（スコープ）
  - 現状課題
  - 業務フロー（As-Is & To-Be概要）
  - 機能要件（詳細）
  - 非機能要件（性能、可用性、セキュリティ、拡張性など）
  - データ要件
  - 外部連携
  - 制約・前提
  - 受入条件
  - マイルストーン・スケジュール
  - リスクと対策
  - 参照資料

### 3.2 業務フロー図

- **ファイル形式**: draw.io
- **保存場所**: `/docs/01_要件定義/業務フロー/`
- **業務フロー体系**:
  - **全体業務フロー**: `全体_業務フロー.drawio`
    - システム全体の業務フロー概要を表現
  - **機能別業務フロー**:
    - `案件管理_業務フロー.drawio` - 案件管理機能の詳細業務フロー
    - `技術者管理_業務フロー.drawio` - 技術者管理機能の詳細業務フロー
    - `マッチング_業務フロー.drawio` - マッチング機能の詳細業務フロー
    - `契約管理_業務フロー.drawio` - 契約管理機能の詳細業務フロー
    - `勤怠工数管理_業務フロー.drawio` - 勤怠・工数管理機能の詳細業務フロー
    - `請求支払_業務フロー.drawio` - 請求・支払機能の詳細業務フロー
    - `レポーティング_業務フロー.drawio` - レポーティング機能の詳細業務フロー
- **内容**:
  - 各業務フロー図には以下の視点を含める:
    - 営業担当
    - 人事/採用担当
    - 技術者(社員・協力会社)
    - PM/現場責任者
    - 経理担当
    - 経営層
    - システム機能

### 3.3 データモデル（概念設計）

**注意**: ER図とテーブル定義書は要件定義フェーズでは概念モデルとして検討しますが、成果物としては基本設計フェーズで作成・管理します。要件定義フェーズでは概念的なエンティティとその関連性を明確にし、基本設計フェーズでより詳細なDB設計に反映させます。

## 4. 作成手順

要件定義ドキュメントの作成手順は以下の通りです：

### 4.1 準備作業

1. Git リポジトリを準備
   ```bash
   git clone [リポジトリURL]
   cd [リポジトリ名]
   ```

2. 要件定義フォルダ構成を作成
   ```bash
   mkdir -p docs/01_要件定義/業務フロー
   ```

3. HTMLテンプレートの準備
   ```bash
   # 例：テンプレートHTMLファイルの作成
   touch docs/01_要件定義/要件定義書.html
   ```

### 4.2 要件定義作業の実施順序

1. **要件定義書のベース作成**（1週目）
   - プロジェクト概要、目的・ゴールの明確化
   - ステークホルダー・ユーザーの特定
   - 現状課題の洗い出し
   - 対象業務範囲の決定

2. **業務フロー図の作成**（2週目）
   - 現状業務フロー（As-Is）の整理
   - 新システムでの業務フロー（To-Be）の設計
   - 全体業務フローの作成
   - 機能別業務フローの個別作成（案件管理、技術者管理、マッチング、契約管理、勤怠工数管理、請求支払、レポーティング）
   - 各業務フローにおけるユーザーロールとシステム機能の相互作用の表現

3. **機能要件・非機能要件の定義**（3週目）
   - 機能要件の詳細化
   - 非機能要件の設定
   - 外部システム連携の明確化

4. **データモデリング（概念設計）**（4週目）
   - エンティティとその関連性の整理
   - 主要な属性の洗い出し
   - 多重度の検討
   - ※この段階では詳細なテーブル設計は行わず、概念レベルのデータモデルにとどめる

5. **要件定義書の完成**（5週目）
   - 全体の整合性確認
   - スケジュール・マイルストーンの設定
   - リスクと対策の明確化
   - レビュー指摘事項の反映

### 4.3 レビュー手順

1. 内部レビュー
   - 担当者によるセルフレビュー
   - チーム内レビュー（相互レビュー）

2. ステークホルダーレビュー
   - 業務担当者レビュー
   - 経営層レビュー

3. レビュー指摘事項対応
   - 指摘事項の整理
   - 優先度の設定
   - 修正作業

4. 最終承認
   - 最終版のレビュー
   - 承認プロセスの完了

### 4.4 バージョン管理

- 要件定義ドキュメントはGitでバージョン管理
- コミットメッセージには変更内容を明記
  ```bash
  git add docs/01_要件定義/要件定義書.html
  git commit -m "要件定義書：機能要件の詳細化"
  git push origin main
  ```

## 5. 要件定義のポイント

### 5.1 ヒアリングの進め方

- ステークホルダーごとに個別ヒアリングを実施
- 現状の業務フローと課題を詳細に把握
- 理想のシステム像についてのヒアリング
- ヒアリング結果を議事録として残す

### 5.2 要件の優先度付け

- MoSCoW法を活用（Must have, Should have, Could have, Won't have）
- 第一フェーズで実装する範囲を明確に
- 将来拡張として扱う機能の明記

### 5.3 技術スタックに関する考慮点

- **Java Spring Boot**
  - 適用可能な機能とカスタマイズ範囲
  - Spring Boot のバージョン選定
  - 利用可能なライブラリ・フレームワーク

- **Thymeleaf**
  - 画面要件と実現可能性の確認
  - レスポンシブデザインの要件
  - UI/UXの方針

- **PostgreSQL**
  - データ量の予測
  - パフォーマンス要件
  - バックアップ要件

- **Docker**
  - コンテナ化の範囲
  - 開発環境・本番環境の構成

### 5.4 非機能要件の具体化

- 性能要件の数値化（レスポンスタイム、スループット）
- 可用性の定義（稼働率、RTO、RPO）
- セキュリティ要件の明確化（認証方式、暗号化など）
- 拡張性・スケーラビリティの要件

## 6. 成果物チェックリスト

要件定義フェーズ完了時に以下の成果物が揃っていることを確認：

- [ ] 要件定義書（HTML形式）
- [ ] 業務フロー図（全体_業務フロー.drawio、および各機能別業務フロー.drawio）
- [ ] データモデル概念設計（ドキュメント化されたメモ等）
- [ ] ヒアリング議事録
- [ ] レビュー議事録
- [ ] 指摘事項対応表

**注意**: データモデルの詳細（ER図、テーブル定義書）は基本設計フェーズの成果物になります。要件定義フェーズでは概念的なモデルを検討するにとどめます。

## 7. 注意事項

- 要件定義は開発の基礎となるため、曖昧な表現を避け具体的に記述すること
- ステークホルダー間で認識の齟齬が生じないよう、専門用語は解説を付けること
- 機能要件と非機能要件のバランスを取ること
- 将来の拡張性を考慮した設計とすること
- 課題や懸念点は隠さず明記し、対応策を検討すること
- 法令やコンプライアンス要件も漏れなく記載すること

## 8. 技術スタックに関する補足

本プロジェクトでは以下の技術スタックを採用します：

- **バックエンド**: Java Spring Boot
- **フロントエンド**: Thymeleaf
- **データベース**: PostgreSQL
- **コンテナ化**: Docker
- **CI/CD**: GitHub Actions

これらの技術選定を踏まえた要件定義を行い、技術的な制約や利点を考慮した要件とすることが重要です。